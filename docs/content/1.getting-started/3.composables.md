---
title: Composables
description: 
---

## Composables

Composables are automatically generated by WPNuxt based on [predefined queries](https://github.com/vernaillen/wpnuxt-module/tree/main/src/runtime/queries) as well as your own [custom queries](../advanced/custom-post-types.md).

### Posts

``` typescript
const { data: posts } = await usePosts()
const { data: latestPost } = await usePosts({ limit: 1 })
const { data: post } = await usePostById({ id: databaseId })
const { data: post } = awair usePostByUri({ uri: 'slug' })
```

### Pages

``` typescript
const { data: pages } = await usePages()
const { data: page } = await usePageById({ id: databaseId })
const { data: page } = awair usePageByUri({ uri: 'slug' })
```

### useNodeByUri

a usefull composable if you want to fetch content by uri, regardless whether it's a page or post type in WordPress. 

``` typescript
const { data: node } = await useNodeByUri({ uri: 'slug' })
```

an example how to use this for a \[...slug\].vue page:
``` typescript
import type { PostFragment, PageFragment } from '#graphql-operations'

const route = useRoute()
const post = ref<PostFragment | PageFragment | null>()
if (route.params?.slug && route.params.slug[0]) {
  const { data } = await useNodeByUri({ uri: route.params.slug[0] })
  post.value = data.value
}
```

### Menu

``` typescript
const { data: menu } = useMenu()
const { data: menu } = await useMenu({ name: 'footer' })
```
if you don't specify a menu name, then WPNuxt will try to fetch the menu with name "main"

### GeneralSettings

``` typescript
const { data: settings } = await useGeneralSettings()
```

### Viewer

``` typescript
const { data: viewer } = await useViewer()
```
Authentication is required to fetch the Viewer

### User

getters:
``` typescript
const userId = getCurrentUserId()
const userName = getCurrentUserName()
```
Authentication is required to fetch the user information.

methods:
``` typescript
loginUser()
logoutUser()
```
This will be documented in detail on the [authentication](./4.authentication.md) page.

### Staging

``` typescript
const staging = await isStaging()
```
More about this on the [staging](../3.advanced/4.staging.md) page.
